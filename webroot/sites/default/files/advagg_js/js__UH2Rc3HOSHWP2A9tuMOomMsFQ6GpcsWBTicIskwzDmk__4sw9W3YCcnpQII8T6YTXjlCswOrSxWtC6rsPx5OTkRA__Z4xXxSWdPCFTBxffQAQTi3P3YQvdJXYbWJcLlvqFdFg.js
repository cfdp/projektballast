/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/progress.js. */
(function(t){Drupal.progressBar=function(r,i,e,s){var a=this;this.id=r;this.method=e||'GET';this.updateCallback=i;this.errorCallback=s;this.element=t('<div class="progress" aria-live="polite"></div>').attr('id',r);this.element.html('<div class="bar"><div class="filled"></div></div><div class="percentage"></div><div class="message">&nbsp;</div>')};Drupal.progressBar.prototype.setProgress=function(r,i){if(r>=0&&r<=100){t('div.filled',this.element).css('width',r+'%');t('div.percentage',this.element).html(r+'%')};t('div.message',this.element).html(i);if(this.updateCallback){this.updateCallback(r,i,this)}};Drupal.progressBar.prototype.startMonitoring=function(t,r){this.delay=r;this.uri=t;this.sendPing()};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null};Drupal.progressBar.prototype.sendPing=function(){if(this.timer){clearTimeout(this.timer)};if(this.uri){var r=this;t.ajax({type:this.method,url:this.uri,data:'',dataType:'json',success:function(t){if(t.status==0){r.displayError(t.data);return};r.setProgress(t.percentage,t.message);r.timer=setTimeout(function(){r.sendPing()},r.delay)},error:function(t){r.displayError(Drupal.ajaxError(t,r.uri))}})}};Drupal.progressBar.prototype.displayError=function(r){var i=t('<div class="messages error"></div>').html(r);t(this.element).before(i).hide();if(this.errorCallback){this.errorCallback(this)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/progress.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/modules/file/file.js. */
(function(e){Drupal.behaviors.fileValidateAutoAttach={attach:function(i,a){if(a.file&&a.file.elements){e.each(a.file.elements,function(n){var t=a.file.elements[n];e(n,i).bind('change',{extensions:t},Drupal.file.validateExtension)})}},detach:function(i,a){if(a.file&&a.file.elements){e.each(a.file.elements,function(a){e(a,i).unbind('change',Drupal.file.validateExtension)})}}};Drupal.behaviors.fileButtons={attach:function(i){e('input.form-submit',i).bind('mousedown',Drupal.file.disableFields);e('div.form-managed-file input.form-submit',i).bind('mousedown',Drupal.file.progressBar)},detach:function(i){e('input.form-submit',i).unbind('mousedown',Drupal.file.disableFields);e('div.form-managed-file input.form-submit',i).unbind('mousedown',Drupal.file.progressBar)}};Drupal.behaviors.filePreviewLinks={attach:function(i){e('div.form-managed-file .file a, .file-widget .file a',i).bind('click',Drupal.file.openInNewWindow)},detach:function(i){e('div.form-managed-file .file a, .file-widget .file a',i).unbind('click',Drupal.file.openInNewWindow)}};Drupal.file=Drupal.file||{validateExtension:function(i){e('.file-upload-js-error').remove();var a=i.data.extensions.replace(/,\s*/g,'|');if(a.length>1&&this.value.length>0){var t=new RegExp('\\.('+a+')$','gi');if(!t.test(this.value)){var n=Drupal.t('The selected file %filename cannot be uploaded. Only files with the following extensions are allowed: %extensions.',{'%filename':this.value.replace('C:\\fakepath\\',''),'%extensions':a.replace(/\|/g,', ')});e(this).closest('div.form-managed-file').prepend('<div class="messages error file-upload-js-error" aria-live="polite">'+n+'</div>');this.value='';return!1}}},disableFields:function(i){var t=this;if(!e(t).hasClass('ajax-processed')){return};var n=[];if(e(this).closest('div.form-managed-file').length>0){n=e(this).closest('div.form-managed-file').find('input.form-file')};var a=e('div.form-managed-file input.form-file').not(n).not(':disabled');a.attr('disabled','disabled');setTimeout(function(){a.attr('disabled',!1)},1000)},progressBar:function(i){var t=this,a=e(t).closest('div.form-managed-file').find('input.file-progress');if(a.length){var n=a.attr('name');a.attr('name',n.match(/APC_UPLOAD_PROGRESS|UPLOAD_IDENTIFIER/)[0]);setTimeout(function(){a.attr('name',n)},1000)};setTimeout(function(){e(t).closest('div.form-managed-file').find('div.ajax-progress-bar').slideDown()},500)},openInNewWindow:function(i){e(this).attr('target','_blank');window.open(this.href,'filePreview','toolbar=0,scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,width=500,height=550');return!1}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/modules/file/file.js. */
;/*})'"*/
