/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/progress.js. */
(function(t){Drupal.progressBar=function(r,i,e,s){var a=this;this.id=r;this.method=e||'GET';this.updateCallback=i;this.errorCallback=s;this.element=t('<div class="progress" aria-live="polite"></div>').attr('id',r);this.element.html('<div class="bar"><div class="filled"></div></div><div class="percentage"></div><div class="message">&nbsp;</div>')};Drupal.progressBar.prototype.setProgress=function(r,i){if(r>=0&&r<=100){t('div.filled',this.element).css('width',r+'%');t('div.percentage',this.element).html(r+'%')};t('div.message',this.element).html(i);if(this.updateCallback){this.updateCallback(r,i,this)}};Drupal.progressBar.prototype.startMonitoring=function(t,r){this.delay=r;this.uri=t;this.sendPing()};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null};Drupal.progressBar.prototype.sendPing=function(){if(this.timer){clearTimeout(this.timer)};if(this.uri){var r=this;t.ajax({type:this.method,url:this.uri,data:'',dataType:'json',success:function(t){if(t.status==0){r.displayError(t.data);return};r.setProgress(t.percentage,t.message);r.timer=setTimeout(function(){r.sendPing()},r.delay)},error:function(t){r.displayError(Drupal.ajaxError(t,r.uri))}})}};Drupal.progressBar.prototype.displayError=function(r){var i=t('<div class="messages error"></div>').html(r);t(this.element).before(i).hide();if(this.errorCallback){this.errorCallback(this)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/progress.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/tableheader.js. */
(function(e){Drupal.behaviors.tableHeader={attach:function(i,t){if(!e.support.positionFixed){return};e('table.sticky-enabled',i).once('tableheader',function(){e(this).data('drupal-tableheader',new Drupal.tableHeader(this))})}};Drupal.tableHeader=function(t){var i=this;this.originalTable=e(t);this.originalHeader=e(t).children('thead');this.originalHeaderCells=this.originalHeader.find('> tr > th');this.displayWeight=null;this.originalTable.bind('columnschange',function(e,t){i.widthCalculated=(i.displayWeight!==null&&i.displayWeight===t);i.displayWeight=t});this.stickyTable=e('<table class="sticky-header"/>').insertBefore(this.originalTable).css({position:'fixed',top:'0px'});this.stickyHeader=this.originalHeader.clone(!0).hide().appendTo(this.stickyTable);this.stickyHeaderCells=this.stickyHeader.find('> tr > th');this.originalTable.addClass('sticky-table');e(window).bind('scroll.drupal-tableheader',e.proxy(this,'eventhandlerRecalculateStickyHeader')).bind('resize.drupal-tableheader',{calculateWidth:!0},e.proxy(this,'eventhandlerRecalculateStickyHeader')).bind('drupalDisplaceAnchor.drupal-tableheader',function(){window.scrollBy(0,-i.stickyTable.outerHeight())}).bind('drupalDisplaceFocus.drupal-tableheader',function(e){if(i.stickyVisible&&e.clientY<(i.stickyOffsetTop+i.stickyTable.outerHeight())&&e.$target.closest('sticky-header').length===0){window.scrollBy(0,-i.stickyTable.outerHeight())}}).triggerHandler('resize.drupal-tableheader');this.stickyHeader.show()};Drupal.tableHeader.prototype.eventhandlerRecalculateStickyHeader=function(i){var u=this,d=i.data&&i.data.calculateWidth;this.stickyOffsetTop=Drupal.settings.tableHeaderOffset?eval(Drupal.settings.tableHeaderOffset+'()'):0;this.stickyTable.css('top',this.stickyOffsetTop+'px');var n=document.documentElement.scrollHeight||document.body.scrollHeight;if(d||this.viewHeight!==n){this.viewHeight=n;this.vPosition=this.originalTable.offset().top-4-this.stickyOffsetTop;this.hPosition=this.originalTable.offset().left;this.vLength=this.originalTable[0].clientHeight-100;d=!0};var c=document.documentElement.scrollLeft||document.body.scrollLeft,h=(document.documentElement.scrollTop||document.body.scrollTop)-this.vPosition;this.stickyVisible=h>0&&h<this.vLength;this.stickyTable.css({left:(-c+this.hPosition)+'px',visibility:this.stickyVisible?'visible':'hidden'});if(this.stickyVisible&&(d||!this.widthCalculated)){this.widthCalculated=!0;var t=null,a=null,r=null,l=null;for(var s=0,o=this.originalHeaderCells.length;s<o;s+=1){t=e(this.originalHeaderCells[s]);a=this.stickyHeaderCells.eq(t.index());r=t.css('display');if(r!=='none'){l=t.css('width');if(l==='auto'){l=t[0].clientWidth+'px'};a.css({'width':l,'display':r})}
else{a.css('display','none')}};this.stickyTable.css('width',this.originalTable.outerWidth())}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/tableheader.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/modules/file/file.js. */
(function(e){Drupal.behaviors.fileValidateAutoAttach={attach:function(i,a){if(a.file&&a.file.elements){e.each(a.file.elements,function(n){var t=a.file.elements[n];e(n,i).bind('change',{extensions:t},Drupal.file.validateExtension)})}},detach:function(i,a){if(a.file&&a.file.elements){e.each(a.file.elements,function(a){e(a,i).unbind('change',Drupal.file.validateExtension)})}}};Drupal.behaviors.fileButtons={attach:function(i){e('input.form-submit',i).bind('mousedown',Drupal.file.disableFields);e('div.form-managed-file input.form-submit',i).bind('mousedown',Drupal.file.progressBar)},detach:function(i){e('input.form-submit',i).unbind('mousedown',Drupal.file.disableFields);e('div.form-managed-file input.form-submit',i).unbind('mousedown',Drupal.file.progressBar)}};Drupal.behaviors.filePreviewLinks={attach:function(i){e('div.form-managed-file .file a, .file-widget .file a',i).bind('click',Drupal.file.openInNewWindow)},detach:function(i){e('div.form-managed-file .file a, .file-widget .file a',i).unbind('click',Drupal.file.openInNewWindow)}};Drupal.file=Drupal.file||{validateExtension:function(i){e('.file-upload-js-error').remove();var a=i.data.extensions.replace(/,\s*/g,'|');if(a.length>1&&this.value.length>0){var t=new RegExp('\\.('+a+')$','gi');if(!t.test(this.value)){var n=Drupal.t('The selected file %filename cannot be uploaded. Only files with the following extensions are allowed: %extensions.',{'%filename':this.value.replace('C:\\fakepath\\',''),'%extensions':a.replace(/\|/g,', ')});e(this).closest('div.form-managed-file').prepend('<div class="messages error file-upload-js-error" aria-live="polite">'+n+'</div>');this.value='';return!1}}},disableFields:function(i){var t=this;if(!e(t).hasClass('ajax-processed')){return};var n=[];if(e(this).closest('div.form-managed-file').length>0){n=e(this).closest('div.form-managed-file').find('input.form-file')};var a=e('div.form-managed-file input.form-file').not(n).not(':disabled');a.attr('disabled','disabled');setTimeout(function(){a.attr('disabled',!1)},1000)},progressBar:function(i){var t=this,a=e(t).closest('div.form-managed-file').find('input.file-progress');if(a.length){var n=a.attr('name');a.attr('name',n.match(/APC_UPLOAD_PROGRESS|UPLOAD_IDENTIFIER/)[0]);setTimeout(function(){a.attr('name',n)},1000)};setTimeout(function(){e(t).closest('div.form-managed-file').find('div.ajax-progress-bar').slideDown()},500)},openInNewWindow:function(i){e(this).attr('target','_blank');window.open(this.href,'filePreview','toolbar=0,scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,width=500,height=550');return!1}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/modules/file/file.js. */
;/*})'"*/
