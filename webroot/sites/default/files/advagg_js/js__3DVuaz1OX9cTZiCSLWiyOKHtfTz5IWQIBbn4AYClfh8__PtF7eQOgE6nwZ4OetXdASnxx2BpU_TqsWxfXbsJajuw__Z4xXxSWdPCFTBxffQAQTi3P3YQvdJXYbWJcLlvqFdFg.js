/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/sites/all/modules/wysiwyg/editors/js/ckeditor-3.0.js. */
(function(e){CKEDITOR.disableAutoInline=!0;Drupal.wysiwyg.excludeIdSelectors.wysiwyg_ckeditor=['[id^="cke_"]'];var t;Drupal.wysiwyg.editor.init.ckeditor=function(e,n){t={};if(Drupal.settings.wysiwyg.ckeditor.hasOwnProperty('timestamp')){CKEDITOR.timestamp=Drupal.settings.wysiwyg.ckeditor.timestamp};Drupal.wysiwyg.editor.update.ckeditor(e,n)};Drupal.wysiwyg.editor.update.ckeditor=function(e,t){for(var n in t['native']){if(t['native'].hasOwnProperty(n)&&(!CKEDITOR.plugins.externals||!CKEDITOR.plugins.externals[n])){var r=t['native'][n];CKEDITOR.plugins.addExternal(n,r.path,r.fileName)}};for(var n in t.drupal){if(t.drupal.hasOwnProperty(n)&&(!CKEDITOR.plugins.registered||!CKEDITOR.plugins.registered[n])){Drupal.wysiwyg.editor.instance.ckeditor.addPlugin(n,t.drupal[n])}};for(var i in e){if(e[i].stylesSet&&(!CKEDITOR.stylesSet||!CKEDITOR.stylesSet.registered[i])){CKEDITOR.stylesSet.add(i,e[i].stylesSet)}}};Drupal.wysiwyg.editor.attach.ckeditor=function(n,i,r){CKEDITOR.config.customConfig='';if(!r.height){r.height=e('#'+i.field).height()};function a(e){t[e.editor.name].contentsChanged()};r.on={change:function(e){a(e)},contentDom:function(e){if(CKEDITOR.version.split('.')[0]=='3'){e.editor.on('key',function(e){if(e.data.ctrlKey||e.data.metaKey)return;var t=e.data.keyCode;if(t==8||t==13||t==32||(t>=46&&t<=90)||(t>=96&&t<=111)||(t>=186&&t<=222)||t==229){a(e)}});e.editor.on('paste',a);e.editor.on('saveSnapshot',function(e){if(t[e.editor.name].firstSaveSnapshot){t[e.editor.name].firstSaveSnapshot=!1;return};a(e)})}},instanceReady:function(e){var a=e.editor,n=CKEDITOR.dtd,i=CKEDITOR.tools.extend({},n.$block,n.$listItem,n.$tableContent);if(r.simple_source_formatting){for(var t in i){if(t=='pre'){continue};this.dataProcessor.writer.setRules(t,{indent:!0,breakBeforeOpen:!0,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!0})}}
else{i.br=1;for(var t in i){if(t=='pre'){continue};this.dataProcessor.writer.setRules(t,{indent:!1,breakBeforeOpen:!1,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1})}}},pluginsLoaded:function(e){var i=t[this.name],r=i.pluginInfo.instances.drupal,n=e.editor;if(n.dataProcessor&&r){n.dataProcessor.toHtml=CKEDITOR.tools.override(n.dataProcessor.toHtml,function(e){return function(t,a){for(var o in r){if(typeof Drupal.wysiwyg.plugins[o].attach=='function'){t=Drupal.wysiwyg.plugins[o].attach(t,i.pluginInfo.global.drupal[o],n.name);t=i.prepareContent(t)}};return e.call(this,t,a)}});n.dataProcessor.toDataFormat=CKEDITOR.tools.override(n.dataProcessor.toDataFormat,function(e){return function(t,a){t=e.call(this,t,a);for(var o in r){if(typeof Drupal.wysiwyg.plugins[o].detach=='function'){t=Drupal.wysiwyg.plugins[o].detach(t,i.pluginInfo.global.drupal[o],n.name)}};return t}})}},selectionChange:function(n){var s=t[this.name],l=s.pluginInfo.instances.drupal;for(var a in l){var r=Drupal.wysiwyg.plugins[a];if(e.isFunction(r.isNode)){var i=n.data.selection.getSelectedElement(),o=r.isNode(i?i.$:null)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.editor.getCommand(a).setState(o)}}},focus:function(e){Drupal.wysiwyg.activeId=e.editor.name},afterCommandExec:function(e){if(e.data.name!='maximize'){return};if(e.data.command.state==CKEDITOR.TRISTATE_ON){Drupal.wysiwyg.utilities.onFullscreenEnter()}
else{Drupal.wysiwyg.utilities.onFullscreenExit()}},destroy:function(e){delete t[this.name]}};t[i.field]=this;var o=CKEDITOR.replace(i.field,r)};Drupal.wysiwyg.editor.detach.ckeditor=function(e,t,n){var r=(n=='serialize')?'updateElement':'destroy',i=CKEDITOR.instances[t.field];if(!i){return};i[r]()};Drupal.wysiwyg.editor.instance.ckeditor={firstSaveSnapshot:!0,addPlugin:function(t,n){CKEDITOR.plugins.add(t,{init:function(i){if(n.css){i.on('mode',function(t){if(t.editor.mode=='wysiwyg'){var i=e('#cke_contents_'+t.editor.name+' iframe, #'+t.editor.id+'_contents iframe');e('head',i.eq(0).contents()).append('<link rel="stylesheet" href="'+n.css+'" type="text/css" >')}})};if(typeof Drupal.wysiwyg.plugins[t].invoke=='function'){var r={exec:function(e){var i={format:'html',node:null,content:''};var r=e.getSelection();if(r){i.node=r.getSelectedElement();if(i.node){i.node=i.node.$};if(r.getType()==CKEDITOR.SELECTION_TEXT){if(r.getSelectedText){i.content=r.getSelectedText()}
else{if(CKEDITOR.env.ie){i.content=r.getNative().createRange().text}
else{i.content=r.getNative().toString()}}}
else if(i.node){i.content=i.node.parentNode.innerHTML}};Drupal.wysiwyg.plugins[t].invoke(i,n,e.name)}};i.addCommand(t,r)};i.ui.addButton(t,{label:n.title,command:t,icon:n.icon})}})},prepareContent:function(e){return e},insert:function(e){e=this.prepareContent(e);if(CKEDITOR.version.split('.')[0]==='3'&&(CKEDITOR.env.webkit||CKEDITOR.env.chrome||CKEDITOR.env.opera||CKEDITOR.env.safari)){var r=new CKEDITOR.dom.element('div'),i,t=0,n;r.setHtml(e);i=r.getChildren();t=0;while(i.count()>t){n=i.getItem(t);switch(n.type){case 1:CKEDITOR.instances[this.field].insertElement(n);break;case 3:CKEDITOR.instances[this.field].insertText(n.getText());t++;break;case 8:CKEDITOR.instances[this.field].insertHtml(n.getOuterHtml());t++;break}}}
else{CKEDITOR.instances[this.field].insertHtml(e)}},setContent:function(e){CKEDITOR.instances[this.field].setData(e)},getContent:function(){return CKEDITOR.instances[this.field].getData()},isFullscreen:function(){var e=CKEDITOR.instances[this.field].commands.maximize;return!!(e&&e.state==CKEDITOR.TRISTATE_ON)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/sites/all/modules/wysiwyg/editors/js/ckeditor-3.0.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/sites/all/modules/wysiwyg/editors/js/none.js. */
(function(e){Drupal.wysiwyg.editor.attach.none=function(e,t,r){var a=this.$field;if(t.resizable){var i=a.parents('.form-textarea-wrapper:first');i.addClass('resizable');if(Drupal.behaviors.textarea){Drupal.behaviors.textarea.attach(e)}};this.startWatching(a)};Drupal.wysiwyg.editor.detach.none=function(t,a,r){if(r!='serialize'){var i=e('#'+a.field,t),n=i.parents('.form-textarea-wrapper:first');n.removeOnce('textarea').removeClass('.resizable-textarea').removeClass('resizable').find('.grippie').remove()}};Drupal.wysiwyg.editor.instance.none={insert:function(t){var e=document.getElementById(this.field);if(document.selection){e.focus();var i=document.selection.createRange();i.text=t}
else if(e.selectionStart||e.selectionStart=='0'){var a=e.selectionStart,r=e.selectionEnd;e.value=e.value.substring(0,a)+t+e.value.substring(r,e.value.length)}
else{e.value+=t}},setContent:function(t){e('#'+this.field).val(t)},getContent:function(){return e('#'+this.field).val()}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/sites/all/modules/wysiwyg/editors/js/none.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/textarea.js. */
(function(e){Drupal.behaviors.textarea={attach:function(t,a){e('.form-textarea-wrapper.resizable',t).once('textarea',function(){var a=null,t=e(this).addClass('resizable-textarea').find('textarea'),u=e('<div class="grippie"></div>').mousedown(o);u.insertAfter(t);function o(u){a=t.height()-u.pageY;t.css('opacity',0.25);e(document).mousemove(n).mouseup(i);return!1};function n(e){t.height(Math.max(32,a+e.pageY)+'px');return!1};function i(a){e(document).unbind('mousemove',n).unbind('mouseup',i);t.css('opacity',1)}})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/textarea.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/sites/all/modules/wysiwyg/wysiwyg.js. */
(function(t){if(typeof Drupal.wysiwygAttach!=='undefined'){return};var n={};var a={};var e={'global':{'drupal':{},'native':{}}};var i={};var f={};var c={};function r(t){if(n[t]){return n[t]};var e=(t.indexOf('--')===-1?t:t.substr(0,t.indexOf('--')));if(n[e]){return n[e]};throw new Error('Wysiwyg module has no information about field "'+t+'"')};function g(t){if(a[t]){return a[t]};return{editor:'none',getPluginInfo:function(){return s(t)}}};function s(t){var a,i;if((a=t.match(/^global:(\w+)$/))){t='global';i=a[1]};if(!e[t]){return{}};if(t==='global'&&typeof i!=='undefined'){return{'drupal':e.global.drupal,'native':(e.global['native'][i])}};return e[t]};Drupal.behaviors.attachWysiwyg={attach:function(e,i){if(/KDE/.test(navigator.vendor)){return};var a=t('.wysiwyg:input',e);if(!a.length){return};h(i.wysiwyg,e);a.once('wysiwyg',function(){var i=t('#'+this.id,document);if(!i.length){return};Drupal.wysiwygAttach(e,this.id)}).closest('form').submit(function(e){if(e.isDefaultPrevented()){return};var i=this;t('.wysiwyg:input',this).each(function(){Drupal.wysiwygDetach(i,this.id,'serialize')})})},detach:function(e,a,n){var r;if(n=='serialize'){r=t('.wysiwyg-processed:input',e)}
else{r=t('.wysiwyg:input',e).removeOnce('wysiwyg')};r.each(function(){Drupal.wysiwygDetach(e,this.id,n);if(n==='unload'){delete i[this.id];delete Drupal.wysiwyg.instances[this.id]}})}};Drupal.wysiwygAttach=function(e,a){var n=r(a),s=(n.summary&&(!n.formats[n.activeFormat]||!n.formats[n.activeFormat].skip_summary));l(a,e,'unload');var u=!!i[n.summary];if(s||u){l(a,e,'unload',{summary:!0})};Drupal.wysiwyg.activeId=a;Drupal.wysiwygAttachToggleLink(e,a);o(a,e);if(s||u){if(t('#'+n.summary).parents('.text-summary-wrapper').is(':visible')){o(a,e,{summary:!0,forceDisabled:!s})}
else{o(a,e,{summary:!0,forceDisabled:!0});t('#'+a).parents('.text-format-wrapper').find('.link-edit-summary').closest('.field-edit-link').unbind('click.wysiwyg').bind('click.wysiwyg',function(){l(a,e,'unload',{summary:!0});o(a,e,{summary:!0,forceDisabled:!s});t(this).unbind('click.wysiwyg')})}}};function w(e){this.field=e.field;this.editor=e.editor;this['status']=e['status'];this.format=e.format;this.resizable=e.resizable;this.insert=function(t){return e['status']?e.insert(t):Drupal.wysiwyg.editor.instance.none.insert.call(e,t)};this.getContent=function(){return e['status']?e.getContent():Drupal.wysiwyg.editor.instance.none.getContent.call(e)};this.setContent=function(t){return e['status']?e.setContent(t):Drupal.wysiwyg.editor.instance.none.setContent.call(e,t)};this.isFullscreen=function(i){return e['status']&&t.isFunction(e.isFullscreen)?e.isFullscreen():!1};this.openDialog=function(i,a){if(t.isFunction(e.openDialog)){return e.openDialog(i,a)}};this.closeDialog=function(i){if(t.isFunction(e.closeDialog)){return e.closeDialog(i)}}};function d(e){t.extend(!0,this,Drupal.wysiwyg.editor.instance[e.editor]);t.extend(!0,this,e);this.$field=t('#'+this.field);this.pluginInfo={'global':s('global:'+e.editor),'instances':s(e.format)};this.publicInstance=new w(this);var i=[];this.startWatching=function(t,e,a){var n=new v(),r=this;n.addCallback(function(){r.contentsChanged()});n.start(t,e,a);i.push(n)};this.stopWatching=function(){while(i.length){var t=i.pop();t.stop()}}};d.prototype.contentsChanged=function(){if(this.$field.attr('data-wysiwyg-value-is-changed')==='false'){this.$field.attr('data-wysiwyg-value-is-changed','true')};this.$field.trigger('drupal-wysiwyg-changed',this.publicInstance)};function h(i,r){var m=i.plugins;for(var d in m.drupal){if(!(d in e.global.drupal)){e.global.drupal[d]=m.drupal[d]}};for(var v in m['native']){for(var d in m['native'][v]){e.global['native'][v]=(e.global['native'][v]||{});if(!(d in e.global['native'][v])){e.global['native'][v][d]=m['native'][v][d]}}};for(var h in m){if(h.substr(0,6)!=='format'){continue};e[h]=(e[h]||{'drupal':{},'native':{}});for(var d in m[h].drupal){if(!(d in e[h].drupal)){e[h].drupal[d]=m[h].drupal[d]}};for(var d in m[h]['native']){if(!(d in e[h]['native'])){e[h]['native'][d]=m[h]['native'][d]}};delete m[h]};for(var u in i.configs){if(!i.configs.hasOwnProperty(u)){continue};for(var o in i.configs[u]){if(a[o]||!i.configs[u].hasOwnProperty(o)){continue};a[o]={editor:u,toggle:!0,editorSettings:y(i.configs[u][o])}};if(!f[u]&&typeof Drupal.wysiwyg.editor.init[u]==='function'){Drupal.wysiwyg.editor.init[u](jQuery.extend(!0,{},i.configs[u]),s('global:'+u));f[u]=!0}
else if(typeof Drupal.wysiwyg.editor.update[u]==='function'){Drupal.wysiwyg.editor.update[u](jQuery.extend(!0,{},i.configs[u]),s('global:'+u))}};for(var F in i.triggers){var l=i.triggers[F],D=l.field,x=(D.indexOf('--')===-1?D:D.substr(0,D.indexOf('--'))),w=null;if(t('#'+F,r).length===0){continue};if(!(w=n[x])){w=n[x]={formats:{},select:l.select,resizable:l.resizable,summary:l.summary,getFormatInfo:function(){if(this.select){this.activeFormat='format'+t('#'+this.select+':input').val()};return g(this.activeFormat)}}};for(var o in l){if(o.indexOf('format')!=0||w.formats[o]){continue};w.formats[o]={'enabled':l[o].status};if(!a[o]){a[o]={editor:l[o].editor,editorSettings:{},getPluginInfo:function(){return s(formatId)}}};a[o].toggle=l[o].toggle;if(l[o].skip_summary){w.formats[o].skip_summary=!0}};var b=null;w.summary=l.summary;if(l.select){c[l.select.replace(/--\d+$/,'')]=l.field;w.select=l.select;b=t('#'+l.select+':input',r).filter('select');b.unbind('change.wysiwyg').bind('change.wysiwyg',p)};w.activeFormat='format'+(b?b.val():l.activeFormat);w.enabled=w.formats[w.activeFormat]&&w.formats[w.activeFormat].enabled}};function o(t,e,a){a=a||{};var n=r(t),o=(a.summary?n.summary:t),l=n.getFormatInfo(),u=(n.enabled&&!a.forceDisabled),f=(u?l.editor:'none'),y=(u?jQuery.extend(!0,{},l.editorSettings):{});var c={field:o,editor:l.editor,'status':u,format:n.activeFormat,resizable:n.resizable};var s=new d(c);i[o]=s;Drupal.wysiwyg.instances[o]=s.publicInstance;Drupal.wysiwyg.editor.attach[f].call(s,e,c,y)};Drupal.wysiwygDetach=function(e,a,n){var s=r(a),n=n||'unload';l(a,e,n);if(n=='unload'){o(a,e,{forceDisabled:!0});Drupal.wysiwygAttachToggleLink(e,a)};if(s.summary&&i[s.summary]){t('#'+a).parents('.text-format-wrapper').find('.link-edit-summary').unbind('click.wysiwyg');l(a,e,n,{summary:!0});if(n=='unload'){o(a,e,{summary:!0})}}};function l(e,a,s,u){u=u||{};var o=r(e),n=(u.summary?o.summary:e),c=t('#'+n),l=!1,f='none';if(i[n]){l=i[n]['status'];f=(l?i[n].editor:'none')};var d={field:n,'status':l,editor:o.editor,format:o.activeFormat,resizable:o.resizable};if(jQuery.isFunction(Drupal.wysiwyg.editor.detach[f])){Drupal.wysiwyg.editor.detach[f].call(i[n],a,d,s)};if(l&&c.attr('data-wysiwyg-value-is-changed')==='false'){c.val(c.attr('data-wysiwyg-value-original'))};if(s=='unload'&&i[n]){i[n].stopWatching();delete Drupal.wysiwyg.instances[n];delete i[n]}};Drupal.wysiwygAttachToggleLink=function(e,i){var a=r(i),l=a.getFormatInfo().editor;if(!a.getFormatInfo().toggle){t('#wysiwyg-toggle-'+i).hide();return};if(!t('#wysiwyg-toggle-'+i,e).length){var o=document.createTextNode(a.enabled?Drupal.settings.wysiwyg.disable:Drupal.settings.wysiwyg.enable),s=document.createElement('a'),n=document.createElement('div');t(s).attr({id:'wysiwyg-toggle-'+i,href:'javascript:void(0);'}).append(o);t(n).addClass('wysiwyg-toggle-wrapper').append(s);if(t('#'+a.select).closest('.fieldset-wrapper').prepend(n).length==0){t('#'+i).after(n)}};t('#wysiwyg-toggle-'+i,e).html(a.enabled?Drupal.settings.wysiwyg.disable:Drupal.settings.wysiwyg.enable).show().unbind('click.wysiwyg').bind('click.wysiwyg',{'fieldId':i,'context':e},Drupal.wysiwyg.toggleWysiwyg);if(l=='none'){t('#wysiwyg-toggle-'+i).hide()}};Drupal.wysiwyg.toggleWysiwyg=function(t){var a=t.data.context,i=t.data.fieldId,e=r(i);delete e.previousFormat;if(e.enabled){e.enabled=!1;Drupal.wysiwygDetach(a,i,'unload')}
else{e.enabled=!0;Drupal.wysiwygAttach(a,i)};e.formats[e.activeFormat].enabled=e.enabled};function p(e){var s=c[this.id.replace(/--\d+$/,'')],l=t('#'+s),a=t(this),u=a.closest('form'),n='format'+a.val(),i=r(s);if(n===i.activeFormat){return};if(i.formats[i.activeFormat]){i.formats[i.activeFormat].enabled=i.enabled};if(l.val().length>0&&i.formats[n]&&i.formats[n].editor!=='none'){var o=Drupal.t('Are you sure you want to change the text format?\n\nChanging the text format to @text_format and enabling the associated editor will permanently remove content that is not allowed in both text formats.\n\nCancel and save your changes before switching the text format to avoid losing data.',{'@text_format':a.find('option:selected').text()});if(!window.confirm(o)){a.val(i.activeFormat.substr(6));a.trigger('change');return}};i.previousFormat=i.activeFormat;i.activeFormat=n;if(i.formats[i.activeFormat]){i.enabled=i.formats[i.activeFormat].enabled}
else{i.enabled=!1};Drupal.wysiwygAttach(u,s)};function y(t){var i=null;if(typeof t!='object'){return t};i=new t.constructor();if(t.drupalWysiwygType){switch(t.drupalWysiwygType){case'callback':i=m(t.name,t.context);break;case'regexp':i=new RegExp(t.regexp,t.modifiers?t.modifiers:undefined);break;default:i.drupalWysiwygType=t.drupalWysiwygType}}
else{for(var e in t){if(t.hasOwnProperty(e)&&t[e]&&typeof t[e]=='object'){i[e]=y(t[e])}
else{i[e]=t[e]}}};return i};function m(t,e){var i=t.split('.'),r=i.pop(),n=window;for(var a=0;n&&a<i.length;a++){n=n[i[a]]};if(!n){throw'Wysiwyg: Unable to locate callback '+i.join('.')+'.'+r+'()'};if(!e){e=n}
else if(typeof e=='string'){i=e.split('.');e=window;for(a=0;e&&a<i.length;a++){e=e[i[a]]};if(!e){throw'Wysiwyg: Unable to locate context object '+i.join('.')}};if(typeof n[r]!='function'){throw'Wysiwyg: '+r+' is not a callback function'};return function(){return n[r].apply(e,arguments)}};var u=(Drupal.ajax?Drupal.ajax.prototype.beforeSerialize:!1);if(u){Drupal.ajax.prototype.beforeSerialize=function(e,i){var r=u.call(this,e,i),a=[];t.each(Drupal.wysiwyg.excludeIdSelectors,function(){if(t.isArray(this)){a=a.concat(this)}});if(a.length>0){var n=i.data['ajax_html_ids[]'];if(!n||n.length===0){return r};i.data['ajax_html_ids[]']=[];t('[id]:not('+a.join(',')+')').each(function(){if(t.inArray(this.id,n)!==-1){i.data['ajax_html_ids[]'].push(this.id)}})};return r}};t(document).unbind('CToolsDetachBehaviors.wysiwyg').bind('CToolsDetachBehaviors.wysiwyg',function(e,a){t('.wysiwyg:input',a).removeOnce('wysiwyg').each(function(){Drupal.wysiwygDetach(a,this.id,'unload');delete Drupal.wysiwyg.instances[this.id];delete i[this.id];var t=(this.id.indexOf('--')===-1?this.id:this.id.substr(0,this.id.indexOf('--')));delete n[t]})});function v(){var e,t,n=[],i,a,r;function s(){for(var t=0;t<n.length;t++){n[t][0].apply(n[t][1])}};this.start=function(n,o,l){t=n;r=o;a=l;if(e){clearInterval(e);e=null};if(t.is(':input')){i=t.val();t.bind('input.wysiwyg-watch selectionchange.wysiwyg-watch propertychange.wysiwyg-watch change.wysiwyg-watch',function(e){if(!a||a(r)){var n=t.val();if(n!==i){if(i!=undefined){s()};i=n}}})}
else if(!e){i=t.html();e=setInterval(function(){if(!a||a(r)){var e=t.html();if(e!==i){s();i=e}}},100)}};this.stop=function(){if(t.is(':input')){t.unbind('input.wysiwyg-watch selectionchange.wysiwyg-watch propertychange.wysiwyg-watch change.wysiwyg-watch')}
else if(e){clearInterval(e);e=null};t=null;r=null;a=null};this.addCallback=function(t,e){if(!e){e=window};n.push([t,e])}};Drupal.wysiwyg.utilities={onFullscreenEnter:function(){t('#toolbar, #admin-menu',Drupal.overlayChild?window.parent.document:document).hide()},onFullscreenExit:function(){t('#toolbar, #admin-menu',Drupal.overlayChild?window.parent.document:document).show()}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/sites/all/modules/wysiwyg/wysiwyg.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/modules/field/modules/text/text.js. */
(function(t){Drupal.behaviors.textSummary={attach:function(e,a){t('.text-summary',e).once('text-summary',function(){var e=t(this).closest('div.field-type-text-with-summary'),a=e.find('div.text-summary-wrapper');a.once('text-summary-wrapper').each(function(i){var l=t(this),m=l.find('label').first(),u=e.find('.text-full').eq(i).closest('.form-item'),n=u.find('label').first();if(n.length==0){n=t('<label></label>').prependTo(u)};var a=t('<span class="field-edit-link">(<a class="link-edit-summary" href="#">'+Drupal.t('Hide summary')+'</a>)</span>'),s=a.find('a'),r=!0;a.bind('click',function(t){if(r){l.hide();s.html(Drupal.t('Edit summary'));a.appendTo(n)}
else{l.show();s.html(Drupal.t('Hide summary'));a.appendTo(m)};r=!r;return!1}).appendTo(m);if(t(this).find('.text-summary').val()==''){a.click()}})})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/modules/field/modules/text/text.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/modules/filter/filter.js. */
(function(e){Drupal.behaviors.filterGuidelines={attach:function(i){e('.filter-guidelines',i).once('filter-guidelines').find(':header').hide().closest('.filter-wrapper').find('select.filter-list').bind('change',function(){e(this).closest('.filter-wrapper').find('.filter-guidelines-item').hide().siblings('.filter-guidelines-'+this.value).show()}).change()}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/modules/filter/filter.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/autocomplete.js. */
(function(t){Drupal.behaviors.autocomplete={attach:function(e,i){var s=[];t('input.autocomplete',e).once('autocomplete',function(){var i=this.value;if(!s[i]){s[i]=new Drupal.ACDB(i)};var e=t('#'+this.id.substr(0,this.id.length-13)).attr('autocomplete','OFF').attr('aria-autocomplete','list');t(e[0].form).submit(Drupal.autocompleteSubmit);e.parent().attr('role','application').append(t('<span class="element-invisible" aria-live="assertive"></span>').attr('id',e.attr('id')+'-autocomplete-aria-live'));new Drupal.jsAC(e,s[i])})}};Drupal.autocompleteSubmit=function(){return t('#autocomplete').each(function(){this.owner.hidePopup()}).length==0};Drupal.jsAC=function(e,i){var s=this;this.input=e[0];this.ariaLive=t('#'+this.input.id+'-autocomplete-aria-live');this.db=i;e.keydown(function(t){return s.onkeydown(this,t)}).keyup(function(t){s.onkeyup(this,t)}).blur(function(){s.hidePopup();s.db.cancel()})};Drupal.jsAC.prototype.onkeydown=function(t,e){if(!e){e=window.event};switch(e.keyCode){case 40:this.selectDown();return!1;case 38:this.selectUp();return!1;default:return!0}};Drupal.jsAC.prototype.onkeyup=function(t,e){if(!e){e=window.event};switch(e.keyCode){case 16:case 17:case 18:case 20:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:return!0;case 9:case 13:case 27:this.hidePopup(e.keyCode);return!0;default:if(t.value.length>0&&!t.readOnly){this.populatePopup()}
else{this.hidePopup(e.keyCode)};return!0}};Drupal.jsAC.prototype.select=function(e){this.input.value=t(e).data('autocompleteValue');t(this.input).trigger('autocompleteSelect',[e])};Drupal.jsAC.prototype.selectDown=function(){if(this.selected&&this.selected.nextSibling){this.highlight(this.selected.nextSibling)}
else if(this.popup){var e=t('li',this.popup);if(e.length>0){this.highlight(e.get(0))}}};Drupal.jsAC.prototype.selectUp=function(){if(this.selected&&this.selected.previousSibling){this.highlight(this.selected.previousSibling)}};Drupal.jsAC.prototype.highlight=function(e){if(this.selected){t(this.selected).removeClass('selected')};t(e).addClass('selected');this.selected=e;t(this.ariaLive).html(t(this.selected).html())};Drupal.jsAC.prototype.unhighlight=function(e){t(e).removeClass('selected');this.selected=!1;t(this.ariaLive).empty()};Drupal.jsAC.prototype.hidePopup=function(e){if(this.selected&&((e&&e!=46&&e!=8&&e!=27)||!e)){this.select(this.selected)};var i=this.popup;if(i){this.popup=null;t(i).fadeOut('fast',function(){t(i).remove()})};this.selected=!1;t(this.ariaLive).empty()};Drupal.jsAC.prototype.populatePopup=function(){var e=t(this.input),i=e.position();if(this.popup){t(this.popup).remove()};this.selected=!1;this.popup=t('<div id="autocomplete"></div>')[0];this.popup.owner=this;t(this.popup).css({top:parseInt(i.top+this.input.offsetHeight,10)+'px',left:parseInt(i.left,10)+'px',width:e.innerWidth()+'px',display:'none'});e.before(this.popup);this.db.owner=this;this.db.search(this.input.value)};Drupal.jsAC.prototype.found=function(e){if(!this.input.value.length){return!1};var i=t('<ul></ul>'),s=this;for(key in e){t('<li></li>').html(t('<div></div>').html(e[key])).mousedown(function(){s.hidePopup(this)}).mouseover(function(){s.highlight(this)}).mouseout(function(){s.unhighlight(this)}).data('autocompleteValue',key).appendTo(i)};if(this.popup){if(i.children().length){t(this.popup).empty().append(i).show();t(this.ariaLive).html(Drupal.t('Autocomplete popup'))}
else{t(this.popup).css({visibility:'hidden'});this.hidePopup()}}};Drupal.jsAC.prototype.setStatus=function(e){switch(e){case'begin':t(this.input).addClass('throbbing');t(this.ariaLive).html(Drupal.t('Searching for matches...'));break;case'cancel':case'error':case'found':t(this.input).removeClass('throbbing');break}};Drupal.ACDB=function(t){this.uri=t;this.delay=300;this.cache={}};Drupal.ACDB.prototype.search=function(e){var i=this;this.searchString=e;e=e.replace(/^\s+|\.{2,}\/|\s+$/g,'');if(e.length<=0||e.charAt(e.length-1)==','){return};if(this.cache[e]){return this.owner.found(this.cache[e])};if(this.timer){clearTimeout(this.timer)};this.timer=setTimeout(function(){i.owner.setStatus('begin');t.ajax({type:'GET',url:i.uri+'/'+Drupal.encodePath(e),dataType:'json',success:function(t){if(typeof t.status=='undefined'||t.status!=0){i.cache[e]=t;if(i.searchString==e){i.owner.found(t)};i.owner.setStatus('found')}},error:function(t){Drupal.displayAjaxError(Drupal.ajaxError(t,i.uri))}})},this.delay)};Drupal.ACDB.prototype.cancel=function(){if(this.owner)this.owner.setStatus('cancel');if(this.timer)clearTimeout(this.timer);this.searchString=''}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/autocomplete.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/progress.js. */
(function(t){Drupal.progressBar=function(r,i,e,s){var a=this;this.id=r;this.method=e||'GET';this.updateCallback=i;this.errorCallback=s;this.element=t('<div class="progress" aria-live="polite"></div>').attr('id',r);this.element.html('<div class="bar"><div class="filled"></div></div><div class="percentage"></div><div class="message">&nbsp;</div>')};Drupal.progressBar.prototype.setProgress=function(r,i){if(r>=0&&r<=100){t('div.filled',this.element).css('width',r+'%');t('div.percentage',this.element).html(r+'%')};t('div.message',this.element).html(i);if(this.updateCallback){this.updateCallback(r,i,this)}};Drupal.progressBar.prototype.startMonitoring=function(t,r){this.delay=r;this.uri=t;this.sendPing()};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null};Drupal.progressBar.prototype.sendPing=function(){if(this.timer){clearTimeout(this.timer)};if(this.uri){var r=this;t.ajax({type:this.method,url:this.uri,data:'',dataType:'json',success:function(t){if(t.status==0){r.displayError(t.data);return};r.setProgress(t.percentage,t.message);r.timer=setTimeout(function(){r.sendPing()},r.delay)},error:function(t){r.displayError(Drupal.ajaxError(t,r.uri))}})}};Drupal.progressBar.prototype.displayError=function(r){var i=t('<div class="messages error"></div>').html(r);t(this.element).before(i).hide();if(this.errorCallback){this.errorCallback(this)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/progress.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/modules/file/file.js. */
(function(e){Drupal.behaviors.fileValidateAutoAttach={attach:function(i,a){if(a.file&&a.file.elements){e.each(a.file.elements,function(n){var t=a.file.elements[n];e(n,i).bind('change',{extensions:t},Drupal.file.validateExtension)})}},detach:function(i,a){if(a.file&&a.file.elements){e.each(a.file.elements,function(a){e(a,i).unbind('change',Drupal.file.validateExtension)})}}};Drupal.behaviors.fileButtons={attach:function(i){e('input.form-submit',i).bind('mousedown',Drupal.file.disableFields);e('div.form-managed-file input.form-submit',i).bind('mousedown',Drupal.file.progressBar)},detach:function(i){e('input.form-submit',i).unbind('mousedown',Drupal.file.disableFields);e('div.form-managed-file input.form-submit',i).unbind('mousedown',Drupal.file.progressBar)}};Drupal.behaviors.filePreviewLinks={attach:function(i){e('div.form-managed-file .file a, .file-widget .file a',i).bind('click',Drupal.file.openInNewWindow)},detach:function(i){e('div.form-managed-file .file a, .file-widget .file a',i).unbind('click',Drupal.file.openInNewWindow)}};Drupal.file=Drupal.file||{validateExtension:function(i){e('.file-upload-js-error').remove();var a=i.data.extensions.replace(/,\s*/g,'|');if(a.length>1&&this.value.length>0){var t=new RegExp('\\.('+a+')$','gi');if(!t.test(this.value)){var n=Drupal.t('The selected file %filename cannot be uploaded. Only files with the following extensions are allowed: %extensions.',{'%filename':this.value.replace('C:\\fakepath\\',''),'%extensions':a.replace(/\|/g,', ')});e(this).closest('div.form-managed-file').prepend('<div class="messages error file-upload-js-error" aria-live="polite">'+n+'</div>');this.value='';return!1}}},disableFields:function(i){var t=this;if(!e(t).hasClass('ajax-processed')){return};var n=[];if(e(this).closest('div.form-managed-file').length>0){n=e(this).closest('div.form-managed-file').find('input.form-file')};var a=e('div.form-managed-file input.form-file').not(n).not(':disabled');a.attr('disabled','disabled');setTimeout(function(){a.attr('disabled',!1)},1000)},progressBar:function(i){var t=this,a=e(t).closest('div.form-managed-file').find('input.file-progress');if(a.length){var n=a.attr('name');a.attr('name',n.match(/APC_UPLOAD_PROGRESS|UPLOAD_IDENTIFIER/)[0]);setTimeout(function(){a.attr('name',n)},1000)};setTimeout(function(){e(t).closest('div.form-managed-file').find('div.ajax-progress-bar').slideDown()},500)},openInNewWindow:function(i){e(this).attr('target','_blank');window.open(this.href,'filePreview','toolbar=0,scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,width=500,height=550');return!1}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/modules/file/file.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://projektballast.dk/misc/collapse.js. */
(function(e){Drupal.toggleFieldset=function(l){var a=e(l);if(a.is('.collapsed')){var t=e('> .fieldset-wrapper',l).hide();a.removeClass('collapsed').trigger({type:'collapsed',value:!1}).find('> legend span.fieldset-legend-prefix').html(Drupal.t('Hide'));t.slideDown({duration:'fast',easing:'linear',complete:function(){Drupal.collapseScrollIntoView(l);l.animating=!1},step:function(){Drupal.collapseScrollIntoView(l)}})}
else{a.trigger({type:'collapsed',value:!0});e('> .fieldset-wrapper',l).slideUp('fast',function(){a.addClass('collapsed').find('> legend span.fieldset-legend-prefix').html(Drupal.t('Show'));l.animating=!1})}};Drupal.collapseScrollIntoView=function(l){var a=document.documentElement.clientHeight||document.body.clientHeight||0,i=document.documentElement.scrollTop||document.body.scrollTop||0,t=e(l).offset().top,n=55;if(t+l.offsetHeight+n>a+i){if(l.offsetHeight>a){window.scrollTo(0,t)}
else{window.scrollTo(0,t+l.offsetHeight-a+n)}}};Drupal.behaviors.collapse={attach:function(l,a){e('fieldset.collapsible',l).once('collapse',function(){var l=e(this),n=location.hash&&location.hash!='#'?', '+location.hash:'';if(l.find('.error'+n).length){l.removeClass('collapsed')};var t=e('<span class="summary"></span>');l.bind('summaryUpdated',function(){var a=e.trim(l.drupalGetSummary());t.html(a?' ('+a+')':'')}).trigger('summaryUpdated');var a=e('> legend .fieldset-legend',this);e('<span class="fieldset-legend-prefix element-invisible"></span>').append(l.hasClass('collapsed')?Drupal.t('Show'):Drupal.t('Hide')).prependTo(a).after(' ');var i=e('<a class="fieldset-title" href="#"></a>').prepend(a.contents()).appendTo(a).click(function(){var e=l.get(0);if(!e.animating){e.animating=!0;Drupal.toggleFieldset(e)};return!1});a.append(t)})}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://projektballast.dk/misc/collapse.js. */
;/*})'"*/
